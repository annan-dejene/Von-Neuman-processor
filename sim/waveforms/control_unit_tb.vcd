$date
	Sat Nov 15 19:37:27 2025
$end
$version
	Icarus Verilog
$end
$timescale
	1s
$end
$scope module tb_control_unit $end
$var wire 1 ! RegWrite $end
$var wire 1 " PCWrite $end
$var wire 2 # PCSel [1:0] $end
$var wire 1 $ MemWrite $end
$var wire 1 % MemToReg $end
$var wire 1 & MemRead $end
$var wire 1 ' MDRload $end
$var wire 1 ( IRload $end
$var wire 1 ) Halt $end
$var wire 1 * Bload $end
$var wire 1 + Aload $end
$var wire 1 , AddrSel $end
$var wire 2 - ALUSrcB [1:0] $end
$var wire 2 . ALUSrcA [1:0] $end
$var wire 1 / ALUOutLoad $end
$var wire 3 0 ALUOp [2:0] $end
$var parameter 3 1 ALU_ADD $end
$var parameter 3 2 ALU_AND $end
$var parameter 3 3 ALU_OR $end
$var parameter 3 4 ALU_PASSB $end
$var parameter 3 5 ALU_SUB $end
$var parameter 3 6 ALU_XOR $end
$var parameter 4 7 OP_ADD $end
$var parameter 4 8 OP_AND $end
$var parameter 4 9 OP_BEQZ $end
$var parameter 4 : OP_HLT $end
$var parameter 4 ; OP_JMP $end
$var parameter 4 < OP_LD $end
$var parameter 4 = OP_LDI $end
$var parameter 4 > OP_OR $end
$var parameter 4 ? OP_ST $end
$var parameter 4 @ OP_SUB $end
$var parameter 4 A OP_XOR $end
$var reg 1 B clk $end
$var reg 4 C opcode [3:0] $end
$var reg 1 D reset $end
$var reg 1 E seen_branch $end
$var reg 1 F zero $end
$var integer 32 G cyc [31:0] $end
$var integer 32 H k [31:0] $end
$scope module dut $end
$var wire 1 B clk $end
$var wire 4 I opcode [3:0] $end
$var wire 1 D reset $end
$var wire 1 F zero $end
$var parameter 3 J ALU_ADD $end
$var parameter 3 K ALU_AND $end
$var parameter 3 L ALU_OR $end
$var parameter 3 M ALU_PASSB $end
$var parameter 3 N ALU_SUB $end
$var parameter 3 O ALU_XOR $end
$var parameter 4 P OP_ADD $end
$var parameter 4 Q OP_AND $end
$var parameter 4 R OP_BEQZ $end
$var parameter 4 S OP_HLT $end
$var parameter 4 T OP_JMP $end
$var parameter 4 U OP_LD $end
$var parameter 4 V OP_LDI $end
$var parameter 4 W OP_OR $end
$var parameter 4 X OP_ST $end
$var parameter 4 Y OP_SUB $end
$var parameter 4 Z OP_XOR $end
$var parameter 4 [ S_EA_LD $end
$var parameter 4 \ S_EA_ST $end
$var parameter 4 ] S_EX_LDI $end
$var parameter 4 ^ S_EX_R $end
$var parameter 4 _ S_HALT $end
$var parameter 4 ` S_ID $end
$var parameter 4 a S_IF1 $end
$var parameter 4 b S_IF2 $end
$var parameter 4 c S_MEM_LD $end
$var parameter 4 d S_MEM_ST $end
$var parameter 4 e S_WB_LD $end
$var parameter 4 f S_WB_LDI $end
$var parameter 4 g S_WB_R $end
$var reg 3 h ALUOp [2:0] $end
$var reg 1 / ALUOutLoad $end
$var reg 2 i ALUSrcA [1:0] $end
$var reg 2 j ALUSrcB [1:0] $end
$var reg 1 , AddrSel $end
$var reg 1 + Aload $end
$var reg 1 * Bload $end
$var reg 1 ) Halt $end
$var reg 1 ( IRload $end
$var reg 1 ' MDRload $end
$var reg 1 & MemRead $end
$var reg 1 % MemToReg $end
$var reg 1 $ MemWrite $end
$var reg 2 k PCSel [1:0] $end
$var reg 1 " PCWrite $end
$var reg 1 ! RegWrite $end
$var reg 4 l next [3:0] $end
$var reg 4 m state [3:0] $end
$upscope $end
$scope begin FIND_BRANCH $end
$upscope $end
$scope task expect $end
$var reg 1 n cond $end
$var reg 2048 o msg [2047:0] $end
$upscope $end
$scope task issue_instruction $end
$var reg 4 p op [3:0] $end
$var reg 1 q z $end
$upscope $end
$scope task step $end
$upscope $end
$scope task trace $end
$upscope $end
$upscope $end
$enddefinitions $end
$comment Show the parameter values. $end
$dumpall
b100 g
b110 f
b1001 e
b1011 d
b1000 c
b1 b
b0 a
b10 `
b1111 _
b11 ^
b101 ]
b1010 \
b111 [
b100 Z
b1 Y
b111 X
b11 W
b101 V
b110 U
b1001 T
b1111 S
b1000 R
b10 Q
b0 P
b100 O
b1 N
b101 M
b11 L
b10 K
b0 J
b100 A
b1 @
b111 ?
b11 >
b101 =
b110 <
b1001 ;
b1111 :
b1000 9
b10 8
b0 7
b100 6
b1 5
b101 4
b11 3
b10 2
b0 1
$end
#0
$dumpvars
xq
bx p
bx o
xn
b0 m
b1 l
b0 k
b1 j
b0 i
b0 h
b0 I
bx H
b0 G
0F
xE
1D
b0 C
0B
b0 0
1/
b0 .
b1 -
0,
0+
0*
0)
0(
0'
1&
0%
0$
b0 #
0"
0!
$end
#5
b1 G
1B
#10
0B
#15
b10 G
1B
#16
0q
b0 p
0D
#20
0B
#25
b10 l
1"
1(
b0 -
b0 j
0&
0/
b1 m
b11 G
1B
#30
0B
#35
b11 l
1*
1+
0"
0(
b10 m
b100 G
1B
#40
0B
#45
b100 l
1/
b1 .
b1 i
0*
0+
b11 m
b101 G
1B
#46
b10000010100010001000100001110100010000001100101011110000111000001100101011000110111010001100101011001000010000001000001001011110100001000100000011101000110111100100000010000010100110001010101001000000110000101101110011001000010000001000001010011000101010101001111011101010111010001001100011011110110000101100100 o
1n
#50
0B
#55
b0 l
1!
b0 .
b0 i
0/
b100 m
b110 G
1B
#56
b1000001010001000100010000111010001000000110010101111000011100000110010101100011011101000110010101100100001000000101001001100101011001110101011101110010011010010111010001100101001000000110011001110010011011110110110100100000010000010100110001010101010011110111010101110100 o
#60
0B
#65
b1 l
1/
b1 -
b1 j
1&
0!
b0 m
b111 G
1B
#66
b101 p
#70
0B
#75
b10 l
1"
1(
b0 -
b0 j
0&
0/
b1 m
b1000 G
1B
#76
b10 l
1"
1(
b101 C
b101 I
#80
0B
#85
b101 l
1*
1+
0"
0(
b10 m
b1001 G
1B
#90
0B
#95
b110 l
1/
b101 0
b101 h
b10 -
b10 j
b10 .
b10 i
0*
0+
b101 m
b1010 G
1B
#96
b10011000100010001001001001110100010000001010000010000010101001101010011010000100010100001101001011011010110110100101001001000000110100101101110011101000110111100100000010000010100110001010101010011110111010101110100 o
#100
0B
#105
b0 l
1!
b0 0
b0 h
b0 -
b0 j
b0 .
b0 i
0/
b110 m
b1011 G
1B
#106
b100110001000100010010010011101000100000011101110111001001101001011101000110010101100010011000010110001101101011001000000110011001110010011011110110110100100000010000010100110001010101010011110111010101110100 o
#110
0B
#115
b1 l
1/
b1 -
b1 j
1&
0!
b0 m
b1100 G
1B
#116
b110 p
#120
0B
#125
b10 l
1"
1(
b0 -
b0 j
0&
0/
b1 m
b1101 G
1B
#126
b10 l
1"
1(
b110 C
b110 I
#130
0B
#135
b111 l
1*
1+
0"
0(
b10 m
b1110 G
1B
#140
0B
#145
b1000 l
1/
b101 0
b101 h
b10 -
b10 j
b10 .
b10 i
0*
0+
b111 m
b1111 G
1B
#146
b1001100010001000011101000100000010001010100000100100000001111000010110100100000011010010110110101101101 o
#150
0B
#155
b1001 l
1'
1&
1,
b0 0
b0 h
b0 -
b0 j
b0 .
b0 i
0/
b1000 m
b10000 G
1B
#156
b100110001000100001110100010000001001101011001010110110101010010011001010110000101100100001000000100000000100000010000010100110001010101010011110111010101110100001011000010000001001101010001000101001001101100011011110110000101100100 o
#160
0B
#165
b0 l
1%
1!
0,
0&
0'
b1001 m
b10001 G
1B
#166
b1001100010001000011101000100000011101110111001001101001011101000110010101100010011000010110001101101011001000000110011001110010011011110110110100100000010011010100010001010010 o
#170
0B
#175
b1 l
1/
b1 -
b1 j
1&
0%
0!
b0 m
b10010 G
1B
#176
b111 p
#180
0B
#185
b10 l
1"
1(
b0 -
b0 j
0&
0/
b1 m
b10011 G
1B
#186
b10 l
1"
1(
b111 C
b111 I
#190
0B
#195
b1010 l
1*
1+
0"
0(
b10 m
b10100 G
1B
#200
0B
#205
b1011 l
1/
b101 0
b101 h
b10 -
b10 j
b10 .
b10 i
0*
0+
b1010 m
b10101 G
1B
#206
b1010011010101000011101000100000010001010100000100100000001111000010110100100000011010010110110101101101 o
#210
0B
#215
b0 l
1$
1,
b0 0
b0 h
b0 -
b0 j
b0 .
b0 i
0/
b1011 m
b10110 G
1B
#216
b10100110101010000111010001000000100110101100101011011010101011101110010011010010111010001100101001000000100000000100000010000010100110001010101010011110111010101110100 o
#220
0B
#225
b1 l
1/
b1 -
b1 j
1&
0,
0$
b0 m
b10111 G
1B
#226
b1000 p
#230
0B
#235
b10 l
1"
1(
b0 -
b0 j
0&
0/
b1 m
b11000 G
1B
#236
b10 l
1"
1(
b1000 C
b1000 I
#240
0B
#245
b0 l
1/
b10 -
b10 j
1*
1+
0"
0(
b10 m
b11001 G
1B
#250
0B
#255
b1 l
1&
b1 -
b1 j
1/
0*
0+
b0 m
b11010 G
1B
#256
b100001001000101010100010101101000100000011011100110111101110100001000000111010001100001011010110110010101101110001110100010000001010000010000110101011101110010011010010111010001100101001000000111001101101000011011110111010101101100011001000010000001100010011001010010000000110000 o
#260
0B
#265
b10 l
1"
1(
b0 -
b0 j
0&
0/
b1 m
b11011 G
1B
#266
1q
#270
0B
#275
b0 l
1/
b10 -
b10 j
1*
1+
0"
0(
b10 m
b11100 G
1B
#276
b1 #
b1 k
1"
b0 l
b10 -
b10 j
1/
1*
1+
1F
#280
0B
#285
b1 l
1&
b0 #
b0 k
0"
b1 -
b1 j
1/
0*
0+
b0 m
b11101 G
1B
#290
0B
#295
b10 l
1"
1(
b0 -
b0 j
0&
0/
b1 m
b11110 G
1B
#296
b0 H
0E
#300
0B
#305
b0 l
b1 #
b1 k
1/
b10 -
b10 j
1*
1+
1"
0(
b10 m
b11111 G
1B
#306
0q
b1001 p
b1000010010001010101000101011010001000000111010001100001011010110110010101101110001110100010000001100101011110000111000001100101011000110111010001100101011001000010000001010000010000110101011101110010011010010111010001100101001000000111011101101001011101000110100000100000011000100111001001100001011011100110001101101000001000000111010001100001011100100110011101100101011101000010000001110111011010010111010001101000011010010110111000100000011011100110010101111000011101000010000001100110011001010111011100100000011000110111100101100011011011000110010101110011 o
1E
b1 H
#310
0B
#315
b1 l
1&
b0 #
b0 k
0"
b1 -
b1 j
1/
0*
0+
b0 m
b100000 G
1B
#316
b1 l
b1 -
b1 j
1&
1/
0F
b1001 C
b1001 I
#320
0B
#325
b10 l
1"
1(
b0 -
b0 j
0&
0/
b1 m
b100001 G
1B
#330
0B
#335
b0 l
b10 #
b10 k
1*
1+
1"
0(
b10 m
b100010 G
1B
#336
b100101001001101010100000011101000100000010100000100001101010111011100100110100101110100011001010010000001110111011010010111010001101000001000000110101001110101011011010111000000100000011010010110110101101101011001010110010001101001011000010111010001100101 o
#340
0B
#345
b1 l
1/
b1 -
b1 j
1&
b0 #
b0 k
0"
0*
0+
b0 m
b100011 G
1B
#346
b1111 p
#350
0B
#355
b10 l
1"
1(
b0 -
b0 j
0&
0/
b1 m
b100100 G
1B
#356
b10 l
1"
1(
b1111 C
b1111 I
#360
0B
#365
b1111 l
1)
1*
1+
0"
0(
b10 m
b100101 G
1B
#370
0B
#375
1)
0*
0+
b1111 m
b100110 G
1B
#376
b1001000010011000101010000111010001000000100100001100001011011000111010000100000011011010111010101110011011101000010000001100010011001010010000000110001 o
#380
0B
#385
b100111 G
1B
#390
0B
#395
b101000 G
1B
#396
